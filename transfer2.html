<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Veritas - Payments & Transfers</title>
    <link rel="stylesheet" href="transfers-style.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css">
</head>
<body class="light-mode">
    
    <aside class="sidebar" id="sidebar">
        <div class="logo">Veritas Finance</div>
        <nav class="main-nav">
            <a href="dashboard.html" class="nav-item"><i class="fas fa-home"></i> Dashboard</a>
            <a href="accounts.html" class="nav-item"><i class="fas fa-wallet"></i> Accounts</a>
            <a href="investments.html" class="nav-item"><i class="fas fa-chart-line"></i> Investments</a>
            <a href="transfer.html" class="nav-item active"><i class="fas fa-exchange-alt"></i> Transfers</a>
             <a href="statement.html" class="nav-item"><i class="fas fa-file-invoice"></i> Statements</a>
           <a href="settings.html" class="nav-item"><i class="fas fa-cog"></i> Settings</a>
        </nav>
        
        <div class="sidebar-footer">
            <label class="toggle-switch">
                <input type="checkbox" id="darkModeToggle">
                <span class="slider round"></span>
                <i class="fas fa-sun light-icon"></i>
                <i class="fas fa-moon dark-icon"></i>
            </label>
        </div>
    </aside>

    <main class="transfers-content" id="transfers-content">
        
        <header class="topbar">
            <button class="mobile-menu-btn" id="mobile-menu-btn"><i class="fas fa-bars"></i></button>
            <div class="page-header">
                <h1>Payments & Transfers</h1>
                <p>Send & recieve money securely and instantly.</p>
            </div>
        </header>

        <div class="mobile-menu-overlay" id="mobile-menu-overlay">
            <div class="mobile-menu-inner">
                <a href="dashboard.html" class="nav-item"><i class="fas fa-home"></i> Dashboard</a>
                <a href="accounts.html" class="nav-item"><i class="fas fa-wallet"></i> Accounts</a>
                <a href="transfer.html" class="nav-item active"><i class="fas fa-exchange-alt"></i> Transfers</a>
                <a href="investments.html" class="nav-item"><i class="fas fa-chart-line"></i> Investments</a>
                <a href="settings.html" class="nav-item"><i class="fas fa-cog"></i> Settings</a>
                <button class="close-btn" id="close-mobile-menu"><i class="fas fa-times"></i> Close</button>
            </div>
        </div>

        <div class="transfer-layout">
            
            <section class="transfer-form-section scroll-animate">
                <div class="form-tabs">
                    <a href="transfer.html">
                    <button class="tab-btn" data-tab="internal">Internal Transfer</button>
                    </a>
                    <button class="tab-btn active" data-tab="external">External Payment</button>
                    
                </div>

                <div class="form-container">
                    
                    <form id="internal-form" class="transfer-form active-form animate-slide">
                        <p class="form-tip"><i class="fas fa-info-circle"></i> Send money to an external bank account or biller.</p>
                        
                        <!-- <div class="input-group">
                            <i class="fas fa-arrow-alt-circle-up"></i>
                            <label for="from-internal">From Account</label>
                            <select id="from-internal" required>
                                <option value="" disabled selected>Select Source Account</option>
                                <option value="current">Current Account ($7,100.25)</option>
                                <option value="savings">Savings Account ($25,000.00)</option>
                            </select>
                        </div> -->
<!-- 
                        <div class="input-group">
                            <i class="fas fa-arrow-alt-circle-down"></i>
                            <label for="to-internal">To Account</label>
                            <select id="to-internal" required>
                                <option value="" disabled selected>Select Destination Account</option>
                                <option value="savings">Savings Account ($00.00)</option>
                                <option value="current">Current Account ($00.00)</option>
                                <option value="business">Business Account ($00.00)</option>
                            </select>
                        </div>
                        
                        <div class="input-group amount-group">
                            <i class="fas fa-dollar-sign"></i>
                            <label for="amount-internal">Amount</label>
                            <input type="number" id="amount-internal" placeholder="e.g., 500.00" min="0.01" step="0.01" required>
                        </div>

                        <div class="input-group">
                            <i class="fas fa-comment"></i>
                            <label for="memo-internal">Memo (Optional)</label>
                            <input type="text" id="memo-internal" placeholder="Rent, Savings goal, etc.">
                        </div>

                        <button type="submit" class="cta-button primary large">Confirm Internal Transfer</button>
                    </form> -->

                    <!-- <form id="external-form" class="transfer-form animate-slide">
                        <p class="form-tip"><i class="fas fa-info-circle"></i> Send money to an external bank account or biller.</p> -->

                        <div class="input-group">
                            <i class="fas fa-arrow-alt-circle-up"></i>
                            <label for="from-external">From Account</label>
                            <select id="from-external" required>
                                <option value="" disabled selected>Select Source Account</option>
                                <option value="current">Current Account ($7,100.25)</option>
                                <option value="savings">Savings Account ($25,000.00)</option>
                            </select>
                        </div>

                        <div class="input-group">
                            <i class="fas fa-user-friends"></i>
                            <label for="to-external">Payee Name</label>
                            <input type="text" id="to-external" placeholder="Recipient Name or Biller" required>
                        </div>
                        
                        <div class="input-group">
                            <i class="fas fa-building"></i>
                            <label for="routing-external">Bank Details (e.g., Routing/Account)</label>
                            <input type="text" id="routing-external" placeholder="Routing & Account Number" required>
                        </div>

                         <div class="input-group">
                            <i class="fas fa-building"></i>
                            <label for="routing-external">Bank Name (e.g., Bank of America)</label>
                            <input type="text" id="routing-external" placeholder="Bank Name" required>
                        </div>


                        <div class="input-group amount-group">
                            <i class="fas fa-dollar-sign"></i>
                            <label for="amount-external">Amount</label>
                            <input type="number" id="amount-external" placeholder="e.g., 120.00" min="0.01" step="0.01" required>
                        </div>
                        
                        <button type="submit" class="cta-button primary large">Schedule External Payment</button>
                    </form>
                </div>
            </section>

           
            <section class="recent-payees-section scroll-animate">
                <h2 class="section-title">Recent Transactions</h2>
                
                <div class="payee-list">
                    <div class="payee-card animate-up">
                        No Recent Transactions
                    </div>
                    <!-- <div class="payee-card animate-up">
                        <div class="payee-info">
                            <i class="fas fa-university"></i>
                            <h4>Utility Company Inc.</h4>
                        </div>
                        <button class="cta-button secondary small">Pay Now</button>
                    </div>

                    <div class="payee-card animate-up">
                        <div class="payee-info">
                            <i class="fas fa-user"></i>
                            <h4>Jane Smith</h4>
                        </div>
                        <button class="cta-button secondary small">Pay Now</button>
                    </div>

                    <div class="payee-card animate-up">
                        <div class="payee-info">
                            <i class="fas fa-building"></i>
                            <h4>Acme Mortgage</h4>
                        </div>
                        <button class="cta-button secondary small">Pay Now</button>
                    </div>
                </div> -->

                <div class="cta-new-payee">
                    <p>Need to pay someone new?</p>
                    <button class="cta-button primary small"><i class="fas fa-plus"></i> Make New Transaction</button>
                </div>
            </section>
        </div>
    </main>

    <script>
        document.addEventListener('DOMContentLoaded', () => {
    // --- 1. Dark Mode Toggle Logic (Reused) ---
    const toggleSwitch = document.getElementById('darkModeToggle');
    const body = document.body;
    const currentTheme = localStorage.getItem('theme');
    
    if (currentTheme) {
        body.classList.add(currentTheme);
        if (currentTheme === 'dark-mode') {
            toggleSwitch.checked = true;
        }
    } else {
        body.classList.add('light-mode');
    }

    toggleSwitch.addEventListener('change', function() {
        body.classList.toggle('light-mode', !this.checked);
        body.classList.toggle('dark-mode', this.checked);
        localStorage.setItem('theme', this.checked ? 'dark-mode' : 'light-mode');
    });

    // --- 2. Mobile Menu Toggle Logic (Reused) ---
    const mobileMenuBtn = document.getElementById('mobile-menu-btn');
    const mobileMenuOverlay = document.getElementById('mobile-menu-overlay');
    const closeMobileMenuBtn = document.getElementById('close-mobile-menu');

    const toggleMobileMenu = () => {
        mobileMenuOverlay.classList.toggle('visible');
    };

    mobileMenuBtn.addEventListener('click', toggleMobileMenu);
    closeMobileMenuBtn.addEventListener('click', toggleMobileMenu);
    mobileMenuOverlay.addEventListener('click', (e) => {
        if (e.target === mobileMenuOverlay) {
            toggleMobileMenu();
        }
    });

    // --- 3. Form Tab Switching Logic ---
    const tabBtns = document.querySelectorAll('.tab-btn');
    const internalForm = document.getElementById('internal-form');
    const externalForm = document.getElementById('external-form');
    const formContainer = document.querySelector('.form-container');

    tabBtns.forEach(btn => {
        btn.addEventListener('click', function() {
            const targetTab = this.getAttribute('data-tab');

            // 1. Update active button state
            tabBtns.forEach(b => b.classList.remove('active'));
            this.classList.add('active');

            // 2. Determine animation direction
            let outgoingForm, incomingForm;
            let direction = 100; // default slide direction

            if (targetTab === 'internal') {
                outgoingForm = externalForm;
                incomingForm = internalForm;
                direction = -100; // Slide left
            } else {
                outgoingForm = internalForm;
                incomingForm = externalForm;
                direction = 100; // Slide right
            }

            // 3. Start slide-out animation for the outgoing form
            outgoingForm.style.transform = translateX(`${-direction}%`);
            outgoingForm.style.opacity = 0;
            
            // 4. Wait for a moment, then swap forms and animate in
            setTimeout(() => {
                outgoingForm.classList.remove('active-form');
                
                // Temporarily adjust container height to prevent jump
                const currentHeight = formContainer.offsetHeight;
                formContainer.style.height = `${currentHeight}px`;

                incomingForm.classList.add('active-form');
                incomingForm.style.transform = translateX(0);
                incomingForm.style.opacity = 1;

                // Reset container height after incoming form is active
                setTimeout(() => {
                    formContainer.style.height = 'auto';
                }, 400); // Matches CSS transition time
                
            }, 100); // Small delay to start the transition effect
        });
    });
    
    // --- 4. Scroll Animation Logic (Reused) ---
    const isElementInViewport = (el) => {
        const rect = el.getBoundingClientRect();
        return (
            rect.top <= (window.innerHeight || document.documentElement.clientHeight) - 100 &&
            rect.bottom >= 0
        );
    };

    const handleScrollAnimation = () => {
        const elementsToAnimate = document.querySelectorAll('.scroll-animate, .animate-up');
        elementsToAnimate.forEach(el => {if (isElementInViewport(el) && !el.classList.contains('active')) {
                el.classList.add('active');
            }
        });
    };

    window.addEventListener('scroll', handleScrollAnimation);
    handleScrollAnimation();
});
    </script>
</body>
</html>